2025-05-26 13:33:49,760 - DEBUG - MainThread - log_debug - run_app.py: Application starting...
2025-05-26 13:33:49,760 - DEBUG - MainThread - log_debug - core package initialized.
2025-05-26 13:33:49,776 - DEBUG - MainThread - log_debug - core.globals module initialized.
2025-05-26 13:33:49,777 - DEBUG - MainThread - log_debug - core.main_app module initialized.
2025-05-26 13:33:51,443 - DEBUG - MainThread - log_debug - processing.model_loader module initialized.
2025-05-26 13:33:51,443 - DEBUG - MainThread - log_debug - ui package initialized.
2025-05-26 13:33:51,444 - DEBUG - MainThread - log_debug - ui.styles module initialized.
2025-05-26 13:33:51,446 - DEBUG - MainThread - log_debug - ui.custom_widgets module initialized.
2025-05-26 13:33:51,446 - DEBUG - MainThread - log_debug - ui.layout_sections module initialized.
2025-05-26 13:33:51,446 - DEBUG - MainThread - log_debug - ui.elements module initialized.
2025-05-26 13:33:51,450 - DEBUG - MainThread - log_debug - ui.handlers package initialized.
2025-05-26 13:33:51,454 - DEBUG - MainThread - log_debug - ui.handlers.shared_refs module initialized.
2025-05-26 13:33:51,455 - DEBUG - MainThread - log_debug - processing.frame_processor module initialized.
2025-05-26 13:33:51,455 - DEBUG - MainThread - log_debug - processing.video_handler module initialized.
2025-05-26 13:33:51,455 - DEBUG - MainThread - log_debug - ui.handlers.loading_manager module initialized.
2025-05-26 13:33:51,456 - DEBUG - MainThread - log_debug - ui.handlers.file_async module initialized.
2025-05-26 13:33:51,457 - DEBUG - MainThread - log_debug - ui.handlers.model_async module initialized.
2025-05-26 13:33:51,457 - DEBUG - MainThread - log_debug - ui.handlers.file_handlers module initialized.
2025-05-26 13:33:51,457 - DEBUG - MainThread - log_debug - ui.handlers.model_handlers module initialized.
2025-05-26 13:33:51,458 - DEBUG - MainThread - log_debug - ui.handlers.video_async module initialized.
2025-05-26 13:33:51,458 - DEBUG - MainThread - log_debug - ui.handlers.seek_optimizer module initialized.
2025-05-26 13:33:51,458 - DEBUG - MainThread - log_debug - ui.handlers.control_handlers module initialized.
2025-05-26 13:33:51,459 - DEBUG - MainThread - log_debug - ui.handlers.threshold_handlers module initialized.
2025-05-26 13:33:51,459 - DEBUG - MainThread - log_debug - ui.handlers.event_handlers module initialized.
2025-05-26 13:33:51,459 - DEBUG - MainThread - log_debug - ui.handlers.async_logic module initialized.
2025-05-26 13:33:51,459 - DEBUG - MainThread - log_debug - ui.callbacks module initialized.
2025-05-26 13:33:51,459 - DEBUG - MainThread - log_debug - run_app.py: main() executed. Debug mode from config: True
2025-05-26 13:33:51,460 - DEBUG - MainThread - log_debug - core.main_app: launch_app() called.
2025-05-26 13:33:51,460 - DEBUG - MainThread - log_debug - Launching application...
2025-05-26 13:33:51,601 - DEBUG - MainThread - log_debug - Placing UI components into layout...
2025-05-26 13:33:51,602 - DEBUG - MainThread - log_debug - Setting up model selector...
2025-05-26 13:33:51,603 - DEBUG - MainThread - log_debug - Default model key 'YOLOv11s_small' not found. Using first available: YOLOv11x
2025-05-26 13:33:51,603 - DEBUG - MainThread - log_debug - Event handlers initialized with stop logic reference.
2025-05-26 13:33:51,603 - DEBUG - MainThread - log_debug - Tkinter callbacks initialized.
2025-05-26 13:33:51,625 - DEBUG - MainThread - log_debug - Calculated required window size: 1277x825
2025-05-26 13:33:51,625 - DEBUG - MainThread - log_debug - Set root minsize to: 931x500
2025-05-26 13:33:51,625 - DEBUG - MainThread - log_debug - --- Initializing Application --- Loading default model: YOLOv11x
2025-05-26 13:33:51,625 - DEBUG - MainThread - log_debug - Showing loading overlay: Initializing with model: YOLOv11x...
2025-05-26 13:33:51,667 - DEBUG - Thread-1 (initial_model_load_task) - log_debug - Attempting to load model: YOLOv11x
2025-05-26 13:33:51,667 - DEBUG - MainThread - log_debug - Starting Tkinter main loop...
2025-05-26 13:33:51,667 - DEBUG - Thread-1 (initial_model_load_task) - log_debug - Model config for YOLOv11x: C:\Users\Ck\vehicle-detection\Vehicle-detection-and-tracking-classwise-using-YOLO11\app\models\yolo11x.pt
2025-05-26 13:33:51,668 - DEBUG - Thread-1 (initial_model_load_task) - log_debug - Error: Model file not found at C:\Users\Ck\vehicle-detection\Vehicle-detection-and-tracking-classwise-using-YOLO11\app\models\yolo11x.pt. Please ensure it exists.
2025-05-26 13:33:51,669 - DEBUG - Thread-1 (initial_model_load_task) - log_debug - load_model finished. Load successful: False
2025-05-26 13:33:51,675 - DEBUG - MainThread - log_debug - Hiding loading overlay and updating controls.
2025-05-26 13:33:51,678 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls: is_fast_processing FLAG is currently False
2025-05-26 13:33:51,678 - DEBUG - MainThread - log_debug - File Upload Button state set to: (), Effective style: Primary.TButton
2025-05-26 13:33:51,678 - DEBUG - MainThread - log_debug - Process Real-time Button state set to: ('disabled',), Effective style: Primary.TButton
2025-05-26 13:33:51,678 - DEBUG - MainThread - log_debug - Fast Process Button state set to: ('disabled',), Effective style: Secondary.TButton
2025-05-26 13:33:51,679 - DEBUG - MainThread - log_debug - Play/Pause Button (no video controls) state: ('disabled',), Style: Primary.TButton
2025-05-26 13:33:51,679 - DEBUG - MainThread - log_debug - Stop Button (no video controls) state: ('disabled',), Style: Secondary.TButton
2025-05-26 13:33:51,679 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls: Fast processing IS NOT active, ensuring progress frame is forgotten.
2025-05-26 13:33:51,685 - DEBUG - MainThread - log_debug - Cleared video_display as controls are hidden, not fast processing, and not showing a processed static image.
2025-05-26 13:33:51,779 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls finished.
2025-05-26 13:33:53,820 - DEBUG - MainThread - log_debug - handle_model_selection_change: Model selection changed to 'Select Custom Model'. Args: ('PY_VAR0', '', 'write')
2025-05-26 13:33:53,821 - DEBUG - MainThread - log_debug - Custom model selected but no valid .pt file has been chosen.
2025-05-26 13:33:55,423 - DEBUG - MainThread - log_debug - handle_custom_model_upload: 'Browse .pt File' button pressed.
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - handle_custom_model_upload: Model file selected: C:/Users/Ck/Downloads/best.pt
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - Custom model path set to: C:/Users/Ck/Downloads/best.pt
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - Custom model selected and 'Select Custom Model' is active. Reloading model...
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - run_model_load_in_thread: Starting model load for Select Custom Model
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - Stopping all video processing and playback logic.
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - SeekOptimizer: Cancelling all seek operations
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - Attempting to cleanup temp file: None
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - All processing logic stopped and resources potentially released.
2025-05-26 13:33:58,608 - DEBUG - MainThread - log_debug - Showing loading overlay: Loading model: Select Custom Model...
2025-05-26 13:33:58,639 - DEBUG - Thread-2 (load_model_task) - log_debug - Model loading task started for Select Custom Model
2025-05-26 13:33:58,639 - DEBUG - MainThread - log_debug - Model loading thread started for Select Custom Model
2025-05-26 13:33:58,639 - DEBUG - Thread-2 (load_model_task) - log_debug - Attempting to load model: Select Custom Model
2025-05-26 13:33:58,639 - DEBUG - MainThread - log_debug - Custom model file set: C:/Users/Ck/Downloads/best.pt
2025-05-26 13:33:58,639 - DEBUG - Thread-2 (load_model_task) - log_debug - Model config for Select Custom Model: C:/Users/Ck/Downloads/best.pt
2025-05-26 13:33:58,652 - DEBUG - Thread-2 (load_model_task) - log_debug - CUDA is available for Select Custom Model.
2025-05-26 13:33:59,290 - DEBUG - Thread-2 (load_model_task) - log_debug - Select Custom Model successfully configured for cuda.
2025-05-26 13:33:59,290 - DEBUG - Thread-2 (load_model_task) - log_debug - Automatically detected class names for custom model: {0: 'bus', 1: 'car', 2: 'jeep', 3: 'tricycle', 4: 'van'}
2025-05-26 13:33:59,291 - DEBUG - Thread-2 (load_model_task) - log_debug - Updating processed class filter.
2025-05-26 13:33:59,291 - DEBUG - Thread-2 (load_model_task) - log_debug - Using all class indices for custom model: [0, 1, 2, 3, 4]
2025-05-26 13:33:59,291 - DEBUG - Thread-2 (load_model_task) - log_debug - Active model filtering for classes: ['bus', 'car', 'jeep', 'tricycle', 'van']
2025-05-26 13:33:59,291 - DEBUG - Thread-2 (load_model_task) - log_debug - Model 'Select Custom Model' loaded. Classes: 5. Configured to run on: cuda.
2025-05-26 13:33:59,291 - DEBUG - Thread-2 (load_model_task) - log_debug - load_model finished. Load successful: True
2025-05-26 13:33:59,292 - DEBUG - MainThread - log_debug - Hiding loading overlay and updating controls.
2025-05-26 13:33:59,296 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls: is_fast_processing FLAG is currently False
2025-05-26 13:33:59,296 - DEBUG - MainThread - log_debug - File Upload Button state set to: (), Effective style: Primary.TButton
2025-05-26 13:33:59,296 - DEBUG - MainThread - log_debug - Process Real-time Button state set to: ('disabled',), Effective style: Primary.TButton
2025-05-26 13:33:59,296 - DEBUG - MainThread - log_debug - Fast Process Button state set to: ('disabled',), Effective style: Secondary.TButton
2025-05-26 13:33:59,297 - DEBUG - MainThread - log_debug - Play/Pause Button (no video controls) state: ('disabled',), Style: Primary.TButton
2025-05-26 13:33:59,297 - DEBUG - MainThread - log_debug - Stop Button (no video controls) state: ('disabled',), Style: Secondary.TButton
2025-05-26 13:33:59,297 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls: Fast processing IS NOT active, ensuring progress frame is forgotten.
2025-05-26 13:33:59,306 - DEBUG - MainThread - log_debug - Cleared video_display as controls are hidden, not fast processing, and not showing a processed static image.
2025-05-26 13:33:59,312 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls finished.
2025-05-26 13:34:01,052 - DEBUG - MainThread - log_debug - handle_custom_model_upload: 'Browse .pt File' button pressed.
2025-05-26 13:34:01,936 - DEBUG - MainThread - log_debug - handle_custom_model_upload: No model file selected.
2025-05-26 13:34:04,058 - DEBUG - MainThread - log_debug - handle_file_upload: 'Upload File' button pressed.
2025-05-26 13:34:07,962 - DEBUG - MainThread - log_debug - handle_file_upload: File selected: C:/Users/Ck/Downloads/vehicle_examples/Ramos_202203126.mp4
2025-05-26 13:34:07,962 - DEBUG - MainThread - log_debug - Showing loading overlay: Processing uploaded file...
2025-05-26 13:34:07,999 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - Thread started for processing file: C:/Users/Ck/Downloads/vehicle_examples/Ramos_202203126.mp4
2025-05-26 13:34:07,999 - DEBUG - MainThread - log_debug - File upload: Worker thread started for C:/Users/Ck/Downloads/vehicle_examples/Ramos_202203126.mp4.
2025-05-26 13:34:07,999 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - Stopping all video processing and playback logic.
2025-05-26 13:34:07,999 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - SeekOptimizer: Cancelling all seek operations
2025-05-26 13:34:07,999 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - Attempting to cleanup temp file: None
2025-05-26 13:34:07,999 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - All processing logic stopped and resources potentially released.
2025-05-26 13:34:08,039 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - File type determined in thread: video, mime: video/mp4
2025-05-26 13:34:08,039 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - Attempting to cleanup temp file: None
2025-05-26 13:34:08,039 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - Video file: setting up video capture in thread...
2025-05-26 13:34:08,097 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - Video properties: FPS=30.0, Frames=365, Size=576x1024
2025-05-26 13:34:11,211 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - Thread processing for C:/Users/Ck/Downloads/vehicle_examples/Ramos_202203126.mp4 completed. Success: True
2025-05-26 13:34:11,226 - DEBUG - MainThread - log_debug - Updating video UI: FPS=30.0, Frames=365, Size=576x1024
2025-05-26 13:34:11,227 - DEBUG - Thread-3 (_process_uploaded_file_in_thread) - log_debug - Thread for C:/Users/Ck/Downloads/vehicle_examples/Ramos_202203126.mp4 completed successfully (video). UI updates already scheduled.
2025-05-26 13:34:11,335 - DEBUG - MainThread - log_debug - Hiding loading overlay and updating controls.
2025-05-26 13:34:11,337 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls: is_fast_processing FLAG is currently False
2025-05-26 13:34:11,337 - DEBUG - MainThread - log_debug - File Upload Button state set to: ('focus',), Effective style: Primary.TButton
2025-05-26 13:34:11,337 - DEBUG - MainThread - log_debug - Process Real-time Button state set to: (), Effective style: Primary.TButton
2025-05-26 13:34:11,337 - DEBUG - MainThread - log_debug - Fast Process Button state set to: (), Effective style: Secondary.TButton
2025-05-26 13:34:11,337 - DEBUG - MainThread - log_debug - Play/Pause Button state: (), Text: Play, Style: Primary.TButton
2025-05-26 13:34:11,337 - DEBUG - MainThread - log_debug - Stop Button state: (), Style: Secondary.TButton
2025-05-26 13:34:11,338 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls: Fast processing IS NOT active, ensuring progress frame is forgotten.
2025-05-26 13:34:11,342 - DEBUG - MainThread - log_debug - hide_loading_and_update_controls finished.
2025-05-26 13:34:12,352 - DEBUG - MainThread - log_debug - toggle_play_pause: Play/Pause button pressed.
2025-05-26 13:34:12,352 - DEBUG - MainThread - log_debug - Starting video playback.
2025-05-26 13:34:17,040 - DEBUG - MainThread - log_debug - toggle_play_pause: Play/Pause button pressed.
2025-05-26 13:34:17,040 - DEBUG - MainThread - log_debug - Pausing video playback.
2025-05-26 13:34:17,410 - DEBUG - MainThread - log_debug - Slider click press: Click at x=45, width=452, relative_pos=0.081, target_frame=29 (7.9%)
2025-05-26 13:34:17,411 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 29 (ID: 1)
2025-05-26 13:34:17,425 - DEBUG - SeekWorker-29-1 - log_debug - SeekOptimizer: Successfully completed seek to frame 29 in 0.015s
2025-05-26 13:34:17,484 - DEBUG - MainThread - log_debug - handle_slider_click_release: Slider clicked/released.
2025-05-26 13:34:17,484 - DEBUG - MainThread - log_debug - Slider click release: Already at target frame 29, skipping duplicate seek
2025-05-26 13:34:17,842 - DEBUG - MainThread - log_debug - Slider click press: Click at x=171, width=452, relative_pos=0.373, target_frame=135 (37.0%)
2025-05-26 13:34:17,843 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 135 (ID: 2)
2025-05-26 13:34:17,869 - DEBUG - SeekWorker-135-2 - log_debug - SeekOptimizer: Successfully completed seek to frame 135 in 0.027s
2025-05-26 13:34:17,934 - DEBUG - MainThread - log_debug - handle_slider_click_release: Slider clicked/released.
2025-05-26 13:34:17,934 - DEBUG - MainThread - log_debug - Slider click release: Already at target frame 135, skipping duplicate seek
2025-05-26 13:34:18,046 - DEBUG - MainThread - log_debug - Slider click press: Click at x=232, width=452, relative_pos=0.514, target_frame=187 (51.2%)
2025-05-26 13:34:18,047 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 187 (ID: 3)
2025-05-26 13:34:18,075 - DEBUG - SeekWorker-187-3 - log_debug - SeekOptimizer: Successfully completed seek to frame 187 in 0.028s
2025-05-26 13:34:18,120 - DEBUG - MainThread - log_debug - handle_slider_click_release: Slider clicked/released.
2025-05-26 13:34:18,120 - DEBUG - MainThread - log_debug - Slider click release: Already at target frame 187, skipping duplicate seek
2025-05-26 13:34:19,280 - DEBUG - MainThread - log_debug - Slider click press: Click at x=415, width=452, relative_pos=0.938, target_frame=341 (93.4%)
2025-05-26 13:34:19,281 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 341 (ID: 4)
2025-05-26 13:34:19,300 - DEBUG - SeekWorker-341-4 - log_debug - SeekOptimizer: Successfully completed seek to frame 341 in 0.020s
2025-05-26 13:34:19,894 - DEBUG - MainThread - log_debug - handle_slider_click_release: Slider clicked/released.
2025-05-26 13:34:19,894 - DEBUG - MainThread - log_debug - Slider click seek: Moving to frame 344 (94.2%)
2025-05-26 13:34:19,895 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 344 (ID: 5)
2025-05-26 13:34:19,912 - DEBUG - SeekWorker-344-5 - log_debug - SeekOptimizer: Successfully completed seek to frame 344 in 0.018s
2025-05-26 13:34:19,940 - DEBUG - MainThread - log_debug - Slider click press: Click at x=138, width=452, relative_pos=0.296, target_frame=107 (29.3%)
2025-05-26 13:34:19,941 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 107 (ID: 6)
2025-05-26 13:34:19,959 - DEBUG - SeekWorker-107-6 - log_debug - SeekOptimizer: Successfully completed seek to frame 107 in 0.019s
2025-05-26 13:34:20,050 - DEBUG - MainThread - log_debug - handle_slider_click_release: Slider clicked/released.
2025-05-26 13:34:20,050 - DEBUG - MainThread - log_debug - Slider click release: Already at target frame 107, skipping duplicate seek
2025-05-26 13:34:20,422 - DEBUG - MainThread - log_debug - Slider click press: Click at x=129, width=452, relative_pos=0.275, target_frame=100 (27.4%)
2025-05-26 13:34:20,423 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 100 (ID: 7)
2025-05-26 13:34:20,439 - DEBUG - SeekWorker-100-7 - log_debug - SeekOptimizer: Successfully completed seek to frame 100 in 0.017s
2025-05-26 13:34:22,026 - DEBUG - MainThread - log_debug - handle_slider_click_release: Slider clicked/released.
2025-05-26 13:34:22,026 - DEBUG - MainThread - log_debug - Slider click seek: Moving to frame 229 (62.7%)
2025-05-26 13:34:22,027 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 229 (ID: 8)
2025-05-26 13:34:22,047 - DEBUG - SeekWorker-229-8 - log_debug - SeekOptimizer: Successfully completed seek to frame 229 in 0.020s
2025-05-26 13:34:23,226 - DEBUG - MainThread - log_debug - Slider click press: Click at x=101, width=452, relative_pos=0.211, target_frame=76 (20.8%)
2025-05-26 13:34:23,227 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 76 (ID: 9)
2025-05-26 13:34:23,240 - DEBUG - SeekWorker-76-9 - log_debug - SeekOptimizer: Successfully completed seek to frame 76 in 0.014s
2025-05-26 13:34:25,622 - DEBUG - MainThread - log_debug - handle_slider_click_release: Slider clicked/released.
2025-05-26 13:34:25,622 - DEBUG - MainThread - log_debug - Slider click seek: Moving to frame 55 (15.1%)
2025-05-26 13:34:25,623 - DEBUG - MainThread - log_debug - SeekOptimizer: Started seek to frame 55 (ID: 10)
2025-05-26 13:34:25,646 - DEBUG - SeekWorker-55-10 - log_debug - SeekOptimizer: Successfully completed seek to frame 55 in 0.024s
2025-05-26 13:34:39,780 - DEBUG - MainThread - log_debug - KeyboardInterrupt caught in main_app. Cleaning up...
2025-05-26 13:34:39,780 - DEBUG - MainThread - log_debug - on_close called. From exception: True
2025-05-26 13:34:39,780 - DEBUG - MainThread - log_debug - Stopping all video processing and playback logic.
2025-05-26 13:34:39,780 - DEBUG - MainThread - log_debug - Cancelled root.after playback loop with ID: after#570
2025-05-26 13:34:39,780 - DEBUG - MainThread - log_debug - Releasing video capture object.
2025-05-26 13:34:39,790 - DEBUG - MainThread - log_debug - SeekOptimizer: Cancelling all seek operations
2025-05-26 13:34:39,790 - DEBUG - MainThread - log_debug - Attempting to cleanup temp file: None
2025-05-26 13:34:39,790 - DEBUG - MainThread - log_debug - All processing logic stopped and resources potentially released.
2025-05-26 13:34:39,790 - DEBUG - MainThread - log_debug - Destroying root window.
2025-05-26 13:34:39,811 - DEBUG - MainThread - log_debug - Application cleanup finished.
2025-05-26 13:34:39,811 - DEBUG - MainThread - log_debug - Application exited main loop.
